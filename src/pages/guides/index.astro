---
import GuideCard from '@/components/GuideCard.astro';
import DocsPageHeader from '@/components/PageHeader.astro';
import DocsLayout from '@/layouts/DocsLayout.astro';
import { getCollection } from 'astro:content';

const guides = (await getCollection('guides')).filter((guide) => guide.data.published).sort();
---

<DocsLayout title="Blog" description="Lorem ipsum dolor sit amet">
  <section class="container max-w-6xl py-10">
    <DocsPageHeader heading="Guides" text="This section includes end-to-end guides for developing Astro v4 apps." />

    {
      guides?.length ? (
        <div class="grid gap-4 md:grid-cols-2 md:gap-6">
          {guides.map((guide) => (
            <GuideCard {...guide} />
          ))}
        </div>
      ) : (
        <p>No guides published.</p>
      )
    }
  </section>
</DocsLayout>
